'use client';import { useState } from 'react';import { sha256Hex } from '../components/hash';export default function VerifyPage(){const [nftHash,setNftHash]=useState('');const [file,setFile]=useState(null as any);const [text,setText]=useState('');const [result,setResult]=useState('');const handleVerify=async()=>{if(!nftHash){setResult('Enter the ProofHash from the NFT metadata.');return;}let computed='';if(file){const buf=await file.arrayBuffer();computed=await sha256Hex(buf);}else if(text.trim().length){computed=await sha256Hex(text.trim());}else{setResult('Provide a file or text to verify against.');return;}setResult(computed.toLowerCase()===nftHash.trim().toLowerCase()?'✅ Match! Proof is valid.':'❌ No match. This file/text does not match the NFT hash.');};return(<main className='container'><h1 className='title'>Verify Proof</h1><p className='subtitle'>Recompute the SHA-256 of your original proof and compare to the NFT attribute.</p><div className='card' style={{display:'grid',gap:10}}><input className='input' placeholder='Paste NFT ProofHash (0x...)' value={nftHash} onChange={e=>setNftHash(e.target.value)}/><textarea className='textarea' rows={4} placeholder='Or paste your original proof text here' value={text} onChange={e=>setText(e.target.value)}/><input className='file' type='file' onChange={e=>setFile(e.target.files?.[0]||null)}/><button className='button' onClick={handleVerify}>Verify</button><div className='subtitle'>{result}</div></div></main>);}
